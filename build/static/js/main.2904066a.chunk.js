(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),c=a(39),r=a.n(c),i=a(12),l=a(13),o=a(15),h=a(14),d=a(11),j=a(6),b=a(17),u=a.n(b);u.a.defaults.baseURL="https://download-book.herokuapp.com/";var m={searchBooks:function(e,t){var a={q:e,o:t};return a=JSON.stringify(a),u()({method:"post",url:"/api/book/searchbook",headers:{"Content-Type":"application/json"},data:a})},Signin:function(e,t){var a={username:e,password:t};return a=JSON.stringify(a),u()({method:"post",url:"/api/user/signin",withCredentials:!0,headers:{"Content-Type":"application/json"},data:a})},Signup:function(e,t,a){var n={username:e,password:t,passwordConf:a};return n=JSON.stringify(n),u()({method:"post",url:"/api/user/signup",withCredentials:!0,headers:{"Content-Type":"application/json"},data:n})},getBook:function(){return u()({method:"get",url:"/api/book"})},deleteBook:function(e){return u()({method:"delete",url:"api/book/"+e})},Logout:function(){return u()({method:"get",url:"/api/user/logout"})},SaveBook:function(e,t){var a={title:e.title,authors:e.authors,description:e.description,imageLinks:e.imageLinks,downloadLink:e.downloadLink,userId:t};return a=JSON.stringify(a),u()({method:"post",url:"/api/book/",withCredentials:!0,headers:{"Content-Type":"application/json"},data:a})}},g=function(){m.Logout().then((function(e){localStorage.clear(),window.location.href="/"})).catch((function(e){}))};function p(){return Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-5",children:[Object(n.jsx)(d.b,{className:"navbar-brand",to:"/",children:"Library"}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsx)(d.b,{className:"nav-link",to:"/",children:"T\xecm ki\u1ebfm "})}),Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsx)(d.b,{className:"nav-link",to:"/saved",children:"T\u1ee7 S\xe1ch"})})]}),localStorage.getItem("id")?Object(n.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsxs)("span",{className:"nav-link",children:["Ch\xe0o ",localStorage.getItem("name")]})}),Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsx)("span",{to:"/signin",onClick:g,style:{cursor:"pointer"},className:"nav-link",children:"\u0110\u0103ng xu\u1ea5t"})})]}):Object(n.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsx)(d.b,{to:"/signin",className:"nav-link",children:"\u0110\u0103ng nh\u1eadp"})}),Object(n.jsx)("li",{className:"nav-item active",children:Object(n.jsx)(d.b,{to:"/signup",className:"nav-link",children:"\u0110\u0103ng k\xed"})})]})]})]})}var O=a(27),x=a.n(O),v=a(42),f=a(18);a(73);var k=function(e){var t=e.children;return Object(n.jsx)("div",{className:"jumbotron jumbotron-fluid",children:t})},N=a(20),y={marginLeft:"5px"};function S(e){var t=e.data,a=e.onChange,s=e.name;return Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsxs)("select",{className:"custom-select",name:s,onChange:a,children:[Object(n.jsx)("option",{value:"alooo",children:"S\u1eafp x\u1ebfp:"}),t.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.label},e.value)}))]})})}function w(e){var t=e.children;return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"input-group mb-3",children:t})})}function C(e){return Object(n.jsx)("input",Object(N.a)({type:"text",className:"form-control",placeholder:"T\xecm ki\u1ebfm s\xe1ch"},e))}function L(e){return Object(n.jsx)("button",Object(N.a)(Object(N.a)({type:"button",className:"btn btn-primary",style:y},e),{},{children:"T\xecm Ki\u1ebfm"}))}var B=[{value:"def",label:"M\u1eb7c \u0111\u1ecbnh"},{value:"title",label:"T\xean S\xe1ch"},{value:"year",label:"N\u0103m"},{value:"publisher",label:"Nh\xe0 x/b\u1ea3n"}],I=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={clickSearch:!1,loading:!1,bookInput:"",bookSearched:"",books:[],orderBy:"def",isadd:"",title:""},e.saveBook=function(t){var a=localStorage.getItem("id");m.SaveBook(t,a).then((function(a){e.setState({isadd:"".concat(t.title," \u0111\u01b0\u1ee3c th\xeam v\xe0o t\u1ee7 s\xe1ch!")}),e.setState({title:t.title})})).catch((function(e){console.log(e)}))},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(f.a)({},n,s))},e.handleFormSubmit=function(){var t=Object(v.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.state.bookInput&&(e.setState({loading:!0,clickSearch:!0}),e.setState({bookSearched:e.state.bookInput}),m.searchBooks(e.state.bookInput,e.state.orderBy).then((function(t){console.log(t),e.setState({books:t.data,loading:!1})})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(k,{children:this.state.books.length?Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"center",children:"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm cho: "}),Object(n.jsxs)("h2",{children:['"',this.state.bookSearched,'"']})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"center",children:"Ch\xe0o m\u1eebng b\u1ea1n \u0111\u1ebfn v\u1edbi Library"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{className:"lead",children:["Nh\u1eefng cu\u1ed1n s\xe1ch hay t\u1eeb ngu\u1ed3n:",Object(n.jsx)("a",{href:"http://gen.lib.rus.ec/",className:"lib-page",children:"LibGen"})]})]})}),Object(n.jsxs)(w,{children:[Object(n.jsx)(S,{data:B,onChange:this.handleChange,name:"orderBy",children:" "}),Object(n.jsx)(C,{onChange:this.handleChange,name:"bookInput"}),Object(n.jsx)(L,{onClick:this.handleFormSubmit})]}),Object(n.jsx)("div",{children:this.state.clickSearch?this.state.loading?Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("div",{className:"spinner-border",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})}):this.state.books.length?Object(n.jsx)("ul",{className:"list-group",children:this.state.books.map((function(t){var a=t.title,s=t.authors,c=t.description,r=t.imageLinks,i=t.downloadLink;return Object(n.jsxs)("li",{className:"list-group-item",children:[e.state.isadd&&t.title===e.state.title?Object(n.jsx)("div",{className:"alert alert-primary",role:"alert",children:e.state.isadd}):Object(n.jsx)("div",{}),localStorage.getItem("id")?Object(n.jsx)("button",{className:"btn btn-success m-2 text-white float-right",onClick:function(){return e.saveBook(t)},children:"L\u01b0u s\xe1ch"}):Object(n.jsx)(d.b,{to:"./signin",children:Object(n.jsx)("button",{className:"btn btn-success m-2 text-white float-right",children:"L\u01b0u s\xe1ch"})}),Object(n.jsx)("a",{className:"btn btn-primary m-2 text-white float-right",href:i,target:"_blank",rel:"noreferrer",children:"T\u1ea3i v\u1ec1"}),Object(n.jsx)("h2",{children:a}),s?Object(n.jsxs)("h4",{children:["T\xe1c gi\u1ea3: ",s]}):Object(n.jsx)("h4",{children:"Kh\xf4ng c\xf3 t\xe1c gi\u1ea3"}),Object(n.jsxs)("div",{className:"align-items-center row",children:[Object(n.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:Object(n.jsx)("img",{className:"m-3",style:{height:192,width:128},src:r,alt:"book-cover"})}),Object(n.jsx)("div",{className:"col-lg-10 col-md-9 col-sm-6",children:Object(n.jsx)("p",{className:"my-3",children:c||"Kh\xf4ng c\xf3 m\xf4 t\u1ea3"})})]})]},a)}))}):Object(n.jsx)("h1",{className:"text-center",children:"Kh\xf4ng t\xecm th\u1ea5y s\xe1ch!"}):Object(n.jsx)("div",{})})]})}}]),a}(s.Component),T=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={books:[],isdelete:"",title:""},e.getSavedBooks=function(){m.getBook().then((function(t){e.setState({books:Object.values(t.data)})})).catch((function(e){return console.log(e)}))},e.deleteBook=function(t){m.deleteBook(t._id).then((function(){e.setState({isdelete:"".concat(t.title," \u0111\xe3 b\u1ecb xo\xe1 kh\u1ecfi t\u1ee7 s\xe1ch!")}),e.setState({title:t.title}),e.getSavedBooks()})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.getSavedBooks()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)(k,{children:[Object(n.jsx)("h1",{children:"T\u1ee7 s\xe1ch c\u1ee7a b\u1ea1n"}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{className:"lead",children:"Hi\u1ec3n th\u1ecb nh\u1eefng cu\u1ed1n s\xe1ch b\u1ea1n \u0111\xe3 l\u01b0u l\u1ea1i!"})]}),Object(n.jsx)("div",{children:localStorage.getItem("id")?this.state.books.length?Object(n.jsx)("ul",{className:"list-group",children:this.state.books.map((function(t){var a=t.title,s=t.authors,c=t.description,r=t.imageLinks,i=t.downloadLink;return Object(n.jsxs)("li",{className:"list-group-item",children:[e.state.isdelete&&t.title===e.state.title?Object(n.jsx)("div",{className:"alert alert-primary",role:"alert",children:e.state.isdelete}):Object(n.jsx)("div",{}),Object(n.jsx)("button",{className:"btn btn-danger m-2 text-white float-right",onClick:function(){return e.deleteBook(t)},children:"Xo\xe1"}),Object(n.jsx)("a",{className:"btn btn-primary m-2 text-white float-right",href:i,target:"_blank",rel:"noreferrer",children:"T\u1ea3i v\u1ec1"}),Object(n.jsx)("h2",{children:a}),s?Object(n.jsxs)("h4",{children:["T\xe1c gi\u1ea3: ",s]}):Object(n.jsx)("h4",{children:"Kh\xf4ng c\xf3 t\xe1c gi\u1ea3"}),Object(n.jsxs)("div",{className:"align-items-center row",children:[Object(n.jsx)("div",{className:"col-lg-2 col-md-3 col-sm-6",children:Object(n.jsx)("img",{className:"m-3",style:{height:192,width:128},src:r,alt:"book-cover"})}),Object(n.jsx)("div",{className:"col-lg-10 col-md-9 col-sm-6",children:Object(n.jsx)("p",{className:"my-3",children:c||"Kh\xf4ng c\xf3 m\xf4 t\u1ea3"})})]})]},a)}))}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"text-center",children:"Kh\xf4ng c\xf3 cu\u1ed1n s\xe1ch n\xe0o!"}),Object(n.jsx)("p",{className:"text-center",children:"H\xe3y t\xecm ki\u1ebfm cu\u1ed1n s\xe1ch y\xeau th\xedch v\xe0 th\xeam n\xf3 v\xe0o \u0111\xe2y!"})]}):Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:"text-center",children:"H\xe3y \u0111\u0103ng nh\u1eadp \u0111\u1ec3 c\xf3 th\u1ec3 s\u1eed d\u1ee5ng ch\u1ee9c n\u0103ng n\xe0y!"})})})]})}}]),a}(s.Component),K=(a(37),a(7)),q=a(19),z=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",message:""},e.handleSubmit=function(t){t.preventDefault(),m.Signin(e.state.username,e.state.password).then((function(t){e.setState({message:t.data.message}),t.data.id&&t.data.name&&(localStorage.setItem("id",t.data.id),localStorage.setItem("name",t.data.name))})).catch((function(t){e.setState({message:t.message})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"Login",children:localStorage.getItem("id")?Object(n.jsx)(j.a,{to:"/"}):Object(n.jsxs)(K.a,{onSubmit:this.handleSubmit,children:[Object(n.jsx)("h1",{className:"text-center",children:"\u0110\u0103ng nh\u1eadp"}),this.state.message?Object(n.jsx)("div",{className:"alert alert-primary",role:"alert",children:this.state.message}):Object(n.jsx)("div",{}),Object(n.jsxs)(K.a.Group,{size:"lg",controlId:"username",children:[Object(n.jsx)(K.a.Label,{children:"T\xean t\xe0i kho\u1ea3n"}),Object(n.jsx)(K.a.Control,{autoFocus:!0,type:"text",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})},required:!0})]}),Object(n.jsxs)(K.a.Group,{size:"lg",controlId:"password",children:[Object(n.jsx)(K.a.Label,{children:"M\u1eadt Kh\u1ea9u"}),Object(n.jsx)(K.a.Control,{type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},required:!0})]}),Object(n.jsx)(q.a,{block:!0,size:"lg",type:"submit",children:"\u0110\u0103ng nh\u1eadp"})]})})}}]),a}(s.Component),G=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",passwordConf:"",message:""},e.handleSubmit=function(t){t.preventDefault(),m.Signup(e.state.username,e.state.password,e.state.passwordConf).then((function(t){e.setState({message:t.data.message})})).catch((function(t){e.setState({message:t.message})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"Login",children:Object(n.jsxs)(K.a,{onSubmit:this.handleSubmit,children:[Object(n.jsx)("h1",{className:"text-center",children:"\u0110\u0103ng k\xed"}),this.state.message?Object(n.jsx)("div",{className:"alert alert-primary",role:"alert",children:this.state.message}):Object(n.jsx)("div",{}),Object(n.jsxs)(K.a.Group,{size:"lg",controlId:"username",children:[Object(n.jsx)(K.a.Label,{children:"T\xean t\xe0i kho\u1ea3n"}),Object(n.jsx)(K.a.Control,{autoFocus:!0,type:"text",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})},required:!0})]}),Object(n.jsxs)(K.a.Group,{size:"lg",controlId:"password",children:[Object(n.jsx)(K.a.Label,{children:"M\u1eadt Kh\u1ea9u"}),Object(n.jsx)(K.a.Control,{type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},required:!0})]}),Object(n.jsxs)(K.a.Group,{size:"lg",controlId:"passwordConf",children:[Object(n.jsx)(K.a.Label,{children:"Nh\u1eadp l\u1ea1i m\u1eadt Kh\u1ea9u"}),Object(n.jsx)(K.a.Control,{type:"password",value:this.state.passwordConf,onChange:function(t){return e.setState({passwordConf:t.target.value})},required:!0})]}),Object(n.jsx)(q.a,{block:!0,size:"lg",type:"submit",children:"\u0110\u0103ng k\xed"})]})})}}]),a}(s.Component),J=function(e){Object(o.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(d.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(p,{}),Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(I,{})}}),Object(n.jsx)(j.b,{exact:!0,path:"/saved",render:function(){return Object(n.jsx)(T,{})}}),Object(n.jsx)(j.b,{exact:!0,path:"/signin",render:function(){return Object(n.jsx)(z,{})}}),Object(n.jsx)(j.b,{exact:!0,path:"/signup",render:function(){return Object(n.jsx)(G,{})}})]})]})})}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(n.jsx)(J,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[75,1,2]]]);
//# sourceMappingURL=main.2904066a.chunk.js.map